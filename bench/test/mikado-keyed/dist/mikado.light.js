/**!
 * Mikado.js v0.5.1 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var m;var n={reuse:!0,prefetch:!0,cache:!0,pool:!0},t={},v={},z={},B={},C={};function D(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.g=this.f=null,this.length=0);this.init(b,d)}var F=D.register=function(a,b){b||(b=a,a=b.n);v[a]=b;return D},G=D.new=function(a,b,d){return new D(a,b,d)};m=D.prototype;m.mount=function(a){this.g!==a&&(this.key&&this.g&&(this.g._o=this.m,this.m=a._o||{}),this.g=a,H(this),this.f=a._d||(a._d=I(a.children)),this.length=this.f.length);return this};
m.sync=function(a){this.g._d=this.f=I(this.g.children);this.length=this.f.length;if(a&&this.cache)for(a=0;a<this.length;a++)this.f[a].$=null;return this};m.index=function(a){return a._i};m.node=function(a){return this.f[a]};
m.init=function(a,b){this.C=b=b?Object.assign({},this.C||n,b):n;"string"===typeof a?a=v[a]:F(a);this.B=b.reuse;this.state=b.state||t;this.cache=b.cache;this.v=this.B&&b.pool;this.b!==a.n&&(this.b=a.n,this.o=a.d,this.u=this.l=null,this.A=b.prefetch&&J(this,a),H(this),this.m=(this.key=b.key)&&{},this.key&&(C[this.b]||(C[this.b]={})),this.v&&(B[this.b]||(B[this.b]=[])));return this};D.once=function(a,b,d,c,e){G(a,b).render(d,c,e).destroy(!0);return D};
function H(a){if(a.g){var b=a.g._t;b!==a.b&&(a.g._t=a.b,b&&(a.key&&(a.m={}),a.length=0,a.clear()))}}function I(a){for(var b=a.length,d=Array(b),c=0,e;c<b;c++)e=a[c],e._i=c,d[c]=e;return d}m=D.prototype;
m.create=function(a,b,d){var c,e,f;if(this.key&&((c=(f=C[this.b])[e=a[this.key]])||!this.B&&(c=this.m[e]))){if(f&&(f[e]=null,this.v)){var g;if((g=c._n)||0===g)if(f=B[this.b],f.length){c._n=null;var l=f.pop();l!==c&&(l._n=g,f[g]=l)}}this.o||this.u(c._p||K(this,c),c.$,a,d,b)}else this.v&&(c=B[this.b])&&c.length?(c=c.pop(),f&&(c._n=null,(l=c._k)||0===l)&&(f[l]=null),this.o||this.u(c._p||K(this,c),c.$,a,d,b)):(c=this.A,c||(this.A=c=J(this,v[this.b])),this.o||this.u(c._p,c.$,a,d,b),c=c.cloneNode(!0));
this.key&&(c._k=e,this.m[e]=c);return c};
m.render=function(a,b){if(this.o)this.f[0]||this.add();else{if(!a)return this.refresh();var d=this.length;var c=a.length;"undefined"===typeof c&&(a=[a],c=1);if(!c)return this.clear();if(!this.B){var e=this.key;e||(this.clear(c),d=0)}var f=d<c?d:c,g=0;if(g<f)for(;g<f;g++){var l=this.f[g],k=a[g];e&&!this.m[k[this.key]]?this.replace(l,k,b,g):this.update(l,k,b,g)}if(g<c)for(;g<c;g++)this.add(a[g],b);else if(c<d){a=this.f.splice(c);this.length=c;c=a.length;if(this.v){b=B[this.b];d=b.length;this.cache&&
1<c&&!this.key&&L(a);var q=d+1;B[this.b]=d?b.concat(a):a}for(b=0;b<c;b++)d=a[b],this.g.removeChild(d),this.key&&(e=d._k,this.m[e]=null,C[this.b][e]=d,q&&(d._n=q+b-1))}}return this};m.add=function(a,b){var d=this.length;a=this.create(a,b,d);a._i=d;this.g.appendChild(a);this.f[d]=a;this.length++;return this};
m.clear=function(a){var b=this.length;if(b&&(this.v||this.key)){if(this.v){var d=B[this.b];var c=d.length;this.cache&&1<b&&!this.key&&L(this.f);B[this.b]=c?d.concat(this.f):this.f}if(this.key)for(d=0;d<b;d++){var e=this.f[d],f=e._k;this.m[f]=null;C[this.b][f]=e;this.v&&(e._n=c+d)}}this.g._d=this.f=a?Array(a):[];this.g.textContent="";this.length=0;return this};m.destroy=function(a){a&&this.unload();this.A=this.u=this.l=this.b=this.g=this.f=null;this.length=0;this.m={}};
m.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};
m.remove=function(a,b){if("number"===typeof a){var d=a;0>d&&(d=this.length+d-1);a=this.f[d]}else d=a._i;0>b&&(1>b&&(d-=b+1,0>d&&(d=0)),b*=-1,a=this.f[d]);var c=this.f.splice(d,b||1),e=this.v&&B[this.b];if(b&&--b){this.length-=b;for(var f;0<b;){f=c[b--];if(this.key){var g=f._k;this.m[g]=null;C[this.b][g]=f;e&&(f._n=e.length)}e&&(e[e.length]=f);this.g.removeChild(f)}}this.key&&(b=a._k,this.m[b]=null,C[this.b][b]=a,e&&(a._n=e.length));e&&(e[e.length]=a);this.g.removeChild(a);this.length--;for(a=d;a<
this.length;a++)this.f[a]._i=a;return this};m.replace=function(a,b,d,c){if(this.key){var e=a._k;if(b[this.key]===e)return this.update(a,b,d,c);this.m[e]=null;C[this.b][e]=a}"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);b._i=c;this.g.replaceChild(b,a);this.f[c]=b;this.v&&(c=B[this.b],this.key&&(a._n=c.length),c[c.length]=a);return this};
m.update=function(a,b,d,c){"number"===typeof a?(c=a,a=this.f[a]):"undefined"===typeof c&&(c=a._i);if(this.key){var e=a._k,f=b[this.key];e!==f&&(this.m[e]=null,this.m[f]=a,a._k=f)}this.u(a._p||K(this,a),a.$,b,c,d);return this};
function K(a,b){for(var d=a.l.length,c={},e=Array(d),f=0;f<d;f++){var g=a.l[f],l=f,k;if(!(k=c[g])){k=b;for(var q="",w=0;w<g.length;w++){var p=g[w];q+=p;c[q]?k=c[q]:(">"===p?k=k.firstElementChild:"+"===p?k=k.nextElementSibling:"|"===p&&(k=k.firstChild),c[q]=k)}}e[l]=k}b._p=e;b.$={};return e}var M;
function J(a,b,d,c,e){var f=z[b.n+(a.cache?"$":"")];if(f)return a.u=f.u,a.o=f.o,a.w=f.w,a.proxy=f.proxy,a.l=f.l,f.node;f=document.createElement(b.t||"div");d||(d=0,c="&",M="",a.l=[],f._p=e=[],f.$={});var g=b.s,l=b.i,k=b.x,q=b.h,w=b.a,p=b.c,x=b.j,h=a.l.length,r=0,u="";x&&(u+=";"+x,-1<u.indexOf("self")&&(a.l[h]=c,e[h]=f,r=2));p&&("object"===typeof p?(p=p[0],u+=a.cache?";v="+p+";if(s._c"+h+"!==v){s._c"+h+"=v;self.className=v}":";self.className="+p,a.l[h]=c,e[h]=f,r++):f.className=p);if(w){var A;w&&(A=
Object.keys(w));for(p=0;p<A.length;p++){x=A[p];var y=void 0;!w||(y=w[x]);if("object"===typeof y){y=y[0];u+=a.cache?";v="+y+";if(s['_a_"+x+h+"']!==v){s['_a_"+x+h+"']=v;self.setAttribute('"+x+"',v)}":";self.setAttribute('"+x+"',"+y+")";var E=!0;r++}else f.setAttribute(x,y)}E&&(a.l[h]=c,e[h]=f)}g&&("string"===typeof g?f.style.cssText=g:g.length&&(g=g[0],u+=a.cache?";v="+g+";if(s._cs"+h+"!==v){s._cs"+h+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+g,a.l[h]=c,e[h]=f,r++));l||(k?
(c+="|",(A="object"===typeof k)&&(k=k[0]),E=document.createTextNode(k),A&&(r&&(N(r,u,h,a.cache),u="",h++),u+=a.cache?";v="+k+";if(s._x"+h+"!==v){s._x"+h+"=v;self.nodeValue=v}":";self.nodeValue="+k,a.l[h]=c,e[h]=E,r++),f.appendChild(E)):q&&("object"===typeof q?(q=q[0],u+=a.cache?";v="+q+";if(s._h"+h+"!==v){s._h"+h+"=v;self.innerHTML=v}":";self.innerHTML="+q,a.l[h]=c,e[h]=f,r++):f.innerHTML=q));r&&(a.o=!1,N(r,u,h,a.cache));if(l)if(l.length)for(k=">",h=0;h<l.length;h++)h&&(k+="+"),r=l[h],f.appendChild(J(a,
r,d+h+1,c+k,e));else f.appendChild(J(a,l,d+1,c+">",e));d||(!a.o&&M&&(a.u=Function("p","s","data","index","view",'"use strict";var self,v'+M)),z[b.n+(a.cache?"$":"")]={u:a.u,o:a.o,w:a.w,proxy:a.proxy,l:a.l,node:f});return f}function N(a,b,d,c){M=c||1<a?M+(";self=p["+d+"]"+b):M+b.replace(/self/g,"p["+d+"]")}D.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.b;a&&(B[a]=[],C[a]={},v[a]=z[a]=null,z[a+"$"]=null)};D.unregister=D.unload=D.prototype.unload;
function L(a){for(var b=a.length,d=b/2|0,c=0,e;c<d;c++)e=a[c],a[c]=a[b-c-1],a[b-c-1]=e};(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return D}):(b=a.modules)?b.mikado=D:"object"===typeof a.exports?a.module.exports=D:a.Mikado=D})();}).call(this);
