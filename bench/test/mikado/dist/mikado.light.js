/**!
 * Mikado.js v0.4.2 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var l;var m={store:!0,loose:!0,cache:!0,async:!1,reuse:!0,pool:!0,prefetch:!0},u={},y={},A={},B={};function D(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.l=this.b=null,this.length=0);this.init(b,d)}var E=D.register=function(a,b){b||(b=a,a=b.n);y[a]=b;return D},F=D.new=function(a,b,d){return new D(a,b,d)};l=D.prototype;l.mount=function(a){this.l!==a&&(this.l=a,G(this),this.b=a._d||(a._d=H(a.children)),this.length=this.b.length);return this};
l.sync=function(){this.l._d=this.b=H(this.l.children);this.length=this.b.length;return this};l.index=function(a){return a._i};l.node=function(a){return this.b[a]};l.init=function(a,b){this.B=b=b?Object.assign({},this.B||m,b):m;"string"===typeof a?a=y[a]:E(a);this.cache=b.cache;this.A=b.reuse;this.state=b.state||u;this.u=this.A&&b.pool;this.f!==a&&(this.f=a.n,this.o=this.g=null,this.m=a.d,this.w=b.prefetch&&I(this,a),G(this));return this};
D.once=function(a,b,d,c,g){F(a,b).render(d,c,g).destroy(!0);return D};function G(a){if(a.l){var b=a.l._t;b!==a.f&&(a.l._t=a.f,b&&a.clear())}}function H(a){for(var b=a.length,d=Array(b),c=0,g;c<b;c++)g=a[c],g._i=c,d[c]=g;return d}l=D.prototype;l.create=function(a,b,d){var c;this.u&&(c=B[this.f])&&c.length?(c=c.pop(),this.m||this.o(c._p||J(this,c),c.$,a,d,b)):(c=this.w,c||(this.w=c=I(this,y[this.f])),this.m||this.o(c._p,c.$,a,d,b),c=c.cloneNode(!0));return c};
l.render=function(a,b){if(this.m)this.b[0]||this.add();else{var d=this.length;if(a){var c=a.length;"undefined"===typeof c&&(a=[a],c=1)}if(!c)return this.clear();this.A||(this.clear(c),d=0);var g=d<c?d:c,e=0;if(g)for(;e<g;e++)this.update(this.b[e],a&&a[e],b,e);if(e<c)for(a||(a=this.store);e<c;e++)this.add(a[e],b);else if(c<d){a=this.b.splice(c);this.length=c;c=a.length;var k;if(this.u)if(k=B[this.f])var r=B.length;else k=B[this.f]=Array(c),r=0;for(b=0;b<c;b++)d=this.l.removeChild(a[b]),k&&(k[r++]=
d)}}return this};l.add=function(a,b){var d=this.length;a=this.create(a,b,d);a._i=d;this.l.appendChild(a);this.b[d]=a;this.length++;return this};l.clear=function(a){if(this.u&&this.length){var b=B[this.f]||(B[this.f]=[]);b.push.apply(b,this.b)}this.l._d=this.b=a?Array(a):[];this.l.textContent="";this.length=0;return this};l.destroy=function(a){a&&this.unload();A[this.f+(this.cache?"$":"")]=null;this.u&&(B[this.f]=null);this.w=this.o=this.g=this.f=this.l=this.b=null;this.length=0};
l.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};l.remove=function(a){if("number"===typeof a){var b=a;a=this.b[b]}else b=a._i;this.b.splice(b,1);if(this.u){var d=B[this.f]||(B[this.f]=[]);d[d.length]=a}this.l.removeChild(a);this.length--;for(a=b;a<this.length;a++)this.b[a]._i=a;return this};l.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);b._i=c;this.l.replaceChild(b,a);this.b[c]=b;return this};
l.update=function(a,b,d,c){this.o(a._p||J(this,a),a.$,b,c,d);return this};function J(a,b){for(var d=a.g.length,c={},g=Array(d),e=0;e<d;e++){var k=a.g[e],r=e,h;if(!(h=c[k])){h=b;for(var p="",v=0;v<k.length;v++){var n=k[v];p+=n;c[p]?h=c[p]:(">"===n?h=h.firstElementChild:"+"===n?h=h.nextElementSibling:"|"===n&&(h=h.firstChild),c[p]=h)}}g[r]=h}b._p=g;b.$={};return g}var K;
function I(a,b,d,c,g){var e=A[b.n+(a.cache?"$":"")];if(e)return a.o=e.o,a.m=e.m,a.v=e.v,a.proxy=e.proxy,a.g=e.g,e.node;e=document.createElement(b.t||"div");d||(d=0,c="&",K="",a.g=[],e._p=g=[],e.$={});var k=b.s,r=b.i,h=b.x,p=b.h,v=b.a,n=b.c,w=b.j,f=a.g.length,q=0,t="";w&&(t+=";"+w,-1<t.indexOf("self")&&(a.g[f]=c,g[f]=e,q=2));n&&("object"===typeof n?(n=n[0],t+=a.cache?";v="+n+";if(s._c"+f+"!==v){s._c"+f+"=v;self.className=v}":";self.className="+n,a.g[f]=c,g[f]=e,q++):e.className=n);if(v){var z;v&&(z=
Object.keys(v));for(n=0;n<z.length;n++){w=z[n];var x=void 0;!v||(x=v[w]);if("object"===typeof x){x=x[0];t+=a.cache?";v="+x+";if(s['_a_"+w+f+"']!==v){s['_a_"+w+f+"']=v;self.setAttribute('"+w+"',v)}":";self.setAttribute('"+w+"',"+x+")";var C=!0;q++}else e.setAttribute(w,x)}C&&(a.g[f]=c,g[f]=e)}k&&("string"===typeof k?e.style.cssText=k:k.length&&(k=k[0],t+=a.cache?";v="+k+";if(s._cs"+f+"!==v){s._cs"+f+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+k,a.g[f]=c,g[f]=e,q++));r||(h?
(c+="|",(z="object"===typeof h)&&(h=h[0]),C=document.createTextNode(h),z&&(q&&(L(q,t,f,a.cache),t="",f++),t+=a.cache?";v="+h+";if(s._x"+f+"!==v){s._x"+f+"=v;self.nodeValue=v}":";self.nodeValue="+h,a.g[f]=c,g[f]=C,q++),e.appendChild(C)):p&&("object"===typeof p?(p=p[0],t+=a.cache?";v="+p+";if(s._h"+f+"!==v){s._h"+f+"=v;self.innerHTML=v}":";self.innerHTML="+p,a.g[f]=c,g[f]=e,q++):e.innerHTML=p));q&&(a.m=!1,L(q,t,f,a.cache));if(r)if(r.length)for(h=">",f=0;f<r.length;f++)f&&(h+="+"),q=r[f],e.appendChild(I(a,
q,d+f+1,c+h,g));else e.appendChild(I(a,r,d+1,c+">",g));d||(!a.m&&K&&(a.o=Function("p","s","data","index","view",'"use strict";var self,v'+K)),A[b.n+(a.cache?"$":"")]={o:a.o,m:a.m,v:a.v,proxy:a.proxy,g:a.g,node:e});return e}function L(a,b,d,c){K=c||1<a?K+(";self=p["+d+"]"+b):K+b.replace(/self/g,"p["+d+"]")}D.prototype.unload=function(a){a||(a=this.f);a&&(y[a]=null)};D.unregister=D.unload=D.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return D}):(b=a.modules)?b.mikado=D:"object"===typeof a.exports?a.module.exports=D:a.Mikado=D})();}).call(this);
