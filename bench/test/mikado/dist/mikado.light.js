/**!
 * Mikado.js v0.7.2 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var n;var w={},y={},z={},A={},B={};function C(a,b,c){if(!(this instanceof C))return new C(a,b,c);a.nodeType||(c=b,b=a,a=null);a?this.mount(a):(this.f=this.b=null,this.length=0);this.init(b,c)}var D=C.register=function(a,b){b||(b=a,a=b.n);y[a]=b;return C};C.prototype.mount=function(a){if(this.f!==a){this.key&&this.f&&(this.f._o=this.l,this.l=a._o||{});this.f=a;E(this);var b;if(!(b=a._d)){b=a.children;for(var c=b.length,f=Array(c),e=0,d;e<c;e++)d=b[e],d._i=e,f[e]=d;b=a._d=f}this.b=b;this.length=this.b.length}return this};
C.prototype.index=function(a){return a._i};C.prototype.node=function(a){return this.b[a]};
C.prototype.init=function(a,b){"string"===typeof a?a=y[a]:(b||!a||a.n||(b=a,a=null),a?a.n&&D(a):a=y[this.u]);b||(b=this.C||{});this.B=!1!==b.reuse;this.state=b.state||w;this.cache=!1!==b.cache;this.C=b;var c=a.n;this.u!==c&&(this.u=c,this.o=a.d,this.v=this.g=null,this.A=!1!==b.prefetch&&F(this,a),E(this),this.l=(this.key=a.k)&&{},this.m=this.B&&!1!==b.pool&&(A[c]||(A[c]=[])),this.w=this.key&&(b.keep||this.m)&&(B[c]||(B[c]={})),this.size=this.m&&b.size);return this};
C.once=function(a,b,c,f,e){var d=new C(a,b);"function"===typeof f&&(e=f,f=null);if(e){var g=e;e=function(){d.destroy(!0);g()}}d.render(c,f,e);e||d.destroy(!0);return C};function E(a){if(a.f){var b=a.f._t;b!==a.u&&(a.f._t=a.u,b&&(a.key&&(a.l={}),a.length=0,a.remove(0,a.length)))}}n=C.prototype;
n.create=function(a,b,c){var f=this.key,e=f&&a[f],d,g;if(f&&((g=this.w)&&(d=g[e])||(d=this.l[e])))if(g){if(g[e]=null,g=this.m){var m=d._n;d._n=null;var h=g.pop();h!==d&&(h._n=m,g[m]=h)}}else f=!1;else if((d=this.m)&&d.length)d=d.pop(),g&&(d._n=null,g[d._k]=null);else{var q=1;d=this.A}this.apply(d,a,b,c);q&&(d=this.A.cloneNode(!0));f&&(d._k=e,this.l[e]=d);return d};n.apply=function(a,b,c,f){this.A||(this.A=a=F(this,y[this.u]));if(!this.o)return this.v(a._p||G(this,a),a.$,b,f,c),this};
n.render=function(a,b){var c=this.length;if(!a&&this.o)return this.b[0]||this.add(),this;var f=a.length;if("undefined"===typeof f)a=[a],f=1;else if(!f)return this.remove(0,c);var e=(this.w||!this.B)&&this.key;e||this.B||(this.remove(0,c,f),c=0);var d=c<f?c:f,g=0;if(g<d)for(;g<d;g++){var m=this.b[g],h=a[g];if(e&&m._k!==h[e]){c=this.b;f=this.l;e=a.length;d=c.length;m=d>e?d:e;h=0;for(var q=this.key;g<m;g++){var v=!1;if(g<e){var l=a[g],p=l[q];if(!f[p]||g>=d){d++;m=d>e?d:e;this.add(l,b,g,null,!0);continue}var k=
c[g],u=k._k;if(u===p){k._i=g;this.update(k,l,b,g);continue}for(var r=void 0,x=void 0,t=g+1;t<m;t++)if(!r&&t<d&&c[t]._k===p&&(r=t+1),!x&&t<e&&a[t][q]===u&&(x=t+1),r&&x){r>=x?(v=c[r-1],this.f.insertBefore(v,k),H(c,r-1,g),v._i=g,this.update(v,l,b,g),h++):(l=x-1+h,this.f.insertBefore(k,c[l]),H(c,g,l-1),h--,g--);v=!0;break}}v||(this.remove(g,1,0,!0),d--,m=d>e?d:e,g--)}return this}this.update(m,h,b,g)}if(g<f)for(;g<f;g++)this.add(a[g],b);else f<c&&this.remove(f,c-f);return this};
function H(a,b,c){var f=a[b],e=b;if(b<c)for(;e<c;e++)a[e]=a[e+1];else for(;e>c;e--)a[e]=a[e-1];a[c]=f}n.add=function(a,b,c,f,e){if(!f)if("number"===typeof b){c=b;b=null;var d=!0}else if(c||0===c)d=!0;c=f||d?c:this.length;a=this.create(a,b,c);a._i=c;if(d){if(this.f.insertBefore(a,this.b[c]||null),this.b.splice(c,0,a),this.length++,!e)for(;++c<this.length;)this.b[c]._i=c}else f?this.f.replaceChild(a,f):(this.f.appendChild(a),this.length++),this.b[c]=a;return this};
n.clear=function(){this.remove(0,this.length);return this};n.destroy=function(a){a&&this.unload();this.A=this.v=this.g=this.u=this.f=this.b=null;this.length=0;this.l={}};n.append=function(a,b,c){if("number"===typeof b){c=b;b=null;var f=!0}else f=c||0===c;for(var e=a.length,d=0;d<e;d++)this.add(a[d],b,f?c++:null);return this};
n.remove=function(a,b,c,f){var e=this.length;a&&("object"===typeof a?a=a._i:0>a&&(a=e+a-1));if(!e||a>=e)return this;0>b?(a-=b+1,0>a&&(a=0),b*=-1):b||(b=1);if(!a&&b>=e){var d=this.b;b=d.length;this.f.textContent="";this.f._d=this.b=c?Array(c):[];e=0}else d=this.b.splice(a,b),e-=b;this.length=e;if(!f&&a<e)for(;a<e;a++)this.b[a]._i=a;if(this.m&&!this.w&&this.cache&&1<b){a=d;c=a.length;f=c/2|0;for(var g=0,m;g<f;g++)m=a[g],a[g]=a[c-g-1],a[c-g-1]=m}for(a=0;a<b;a++)c=d[a],e&&this.f.removeChild(c),I(this,
c);return this};function I(a,b){if(a.key){var c=b._k;a.l[c]=null;a.w&&(a.w[c]=b)}a.m&&(c=a.m.length,!a.size||c<a.size)&&(a.w&&(b._n=c),a.m[c]=b)}n.replace=function(a,b,c,f){"undefined"===typeof f&&("number"===typeof a?(f=a,a=this.b[f]):f=a._i);this.add(b,c,f,a);I(this,a);return this};n.update=function(a,b,c,f){"undefined"===typeof f&&("number"===typeof a?(f=a,a=this.b[a]):f=a._i);if(this.key){var e=a._k,d=b[this.key];e!==d&&(this.l[e]=null,this.l[d]=a,a._k=d)}return this.apply(a,b,c,f)};
function G(a,b){for(var c=a.g.length,f={},e=Array(c),d=0,g;d<c;d++){g=a.g[d];var m=d,h;if(!(h=f[g])){h=b;for(var q=0,v=g.length,l="";q<v;q++){var p=g[q];l+=p;f[l]?h=f[l]:(">"===p?h=h.firstElementChild:"+"===p?h=h.nextElementSibling:"|"===p&&(h=h.firstChild),f[l]=h)}}e[m]=h}a.cache&&(b.$={});return b._p=e}var J;
function F(a,b,c,f,e){if(!c){var d=z[b.n+(a.cache?"$":"")];if(d)return a.v=d.v,a.o=d.o,a.g=d.g,d.node}d=document.createElement(b.t||"div");c||(c=0,f="&",J="",a.g=[],d._p=e=[],a.cache&&(d.$={}));var g=b.s,m=b.i,h=b.x,q=b.h,v=b.a,l=b.c,p=b.j,k=a.g.length,u=0,r="";p&&(r+=";"+p,-1<r.indexOf("self")&&(u=2));l&&("object"===typeof l?(l=l[0],r+=a.cache?";v="+l+";if(s._c"+k+"!==v){s._c"+k+"=v;self.className=v}":";self.className="+l,u++):d.className=l);if(v){var x;v&&(x=Object.keys(v));for(l=0;l<x.length;l++){p=
x[l];var t=void 0;!v||(t=v[p]);"object"===typeof t?(t=t[0],r+=a.cache?";v="+t+";if(s['_a_"+p+k+"']!==v){s['_a_"+p+k+"']=v;self.setAttribute('"+p+"',v)}":";self.setAttribute('"+p+"',"+t+")",u++):d.setAttribute(p,t)}}g&&("string"===typeof g?d.style.cssText=g:g.length&&(g=g[0],r+=a.cache?";v="+g+";if(s._cs"+k+"!==v){s._cs"+k+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+g,u++));m||(h?((x="object"===typeof h)&&(h=h[0]),g=document.createTextNode(h),x&&(u&&k++,a.g[k]=f+"|",e[k]=
g,K(u,a.cache?";v="+h+";if(s._x"+k+"!==v){s._x"+k+"=v;self.nodeValue=v}":";self.nodeValue="+h,k),u&&k--),d.appendChild(g)):q&&("object"===typeof q?(q=q[0],r+=a.cache?";v="+q+";if(s._h"+k+"!==v){s._h"+k+"=v;self.innerHTML=v}":";self.innerHTML="+q,u++):d.innerHTML=q));u?(a.g[k]=f,e[k]=d,a.o=!1,K(u,r,k)):r&&(J+=r);if(m)if(m.length)for(h=">",k=0;k<m.length;k++)k&&(h+="+"),u=m[k],d.appendChild(F(a,u,c+k+1,f+h,e));else d.appendChild(F(a,m,c+1,f+">",e));c||(!a.o&&J&&(a.v=Function("p","s","data","index",
"view",'"use strict";var self,v'+J)),z[b.n+(a.cache?"$":"")]={v:a.v,o:a.o,g:a.g,node:d});return d}function K(a,b,c){J=1<a?J+(";self=p["+c+"]"+b):J+b.replace(/self/g,"p["+c+"]")}C.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.u;a&&(y[a]=null,A[a]=B[a]=z[a]=null,z[a+"$"]=null);return this};C.unregister=C.unload=C.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return C}):(b=a.modules)?b.mikado=C:"object"===typeof a.exports?a.module.exports=C:a.Mikado=C})();}).call(this);
