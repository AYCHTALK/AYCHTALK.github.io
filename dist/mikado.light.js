/**!
 * Mikado.js v0.7.3 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var p;var w={},z={},B={},C={},D={};function E(a,b,c){if(!(this instanceof E))return new E(a,b,c);a.nodeType||(c=b,b=a,a=null);a?this.mount(a):(this.f=this.b=null,this.length=0);this.init(b,c)}var F=E.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return E};E.prototype.mount=function(a){if(this.f!==a){this.key&&this.f&&(this.f._o=this.l,this.l=a._o||{});this.f=a;G(this);var b;if(!(b=a._d)){b=a.children;for(var c=b.length,e=Array(c),f=0,d;f<c;f++)d=b[f],d._i=f,e[f]=d;b=a._d=e}this.b=b;this.length=this.b.length}return this};
E.prototype.index=function(a){return a._i};E.prototype.node=function(a){return this.b[a]};
E.prototype.init=function(a,b){"string"===typeof a?a=z[a]:(b||!a||a.n||(b=a,a=null),a?a.n&&F(a):a=z[this.u]);b||(b=this.C||{});this.B=!1!==b.reuse;this.state=b.state||w;this.cache=!1!==b.cache;this.C=b;var c=a.n;this.u!==c&&(this.u=c,this.o=a.d,this.v=this.g=null,this.A=!1!==b.prefetch&&H(this,a),G(this),this.l=(this.key=a.k)&&{},this.m=this.B&&!1!==b.pool&&(C[c]||(C[c]=[])),this.w=this.key&&(b.keep||this.m)&&(D[c]||(D[c]={})),this.size=this.m&&b.size);return this};
E.once=function(a,b,c,e,f){var d=new E(a,b);"function"===typeof e&&(f=e,e=null);if(f){var g=f;f=function(){d.destroy(1);g()}}d.render(c,e,f);f||d.destroy(1);return E};function G(a){if(a.f){var b=a.f._t;b!==a.u&&(a.f._t=a.u,b&&(a.key&&(a.l={}),a.length=0,a.remove(0,a.length)))}}p=E.prototype;
p.create=function(a,b,c){var e=this.key,f=e&&a[e],d,g;if(e&&((g=this.w)&&(d=g[f])||(d=this.l[f])))if(g){if(g[f]=null,g=this.m){var k=d._n;d._n=null;var h=g.pop();h!==d&&(h._n=k,g[k]=h)}}else e=0;else if((d=this.m)&&d.length)d=d.pop(),g&&(d._n=null,g[d._k]=null);else{var t=1;d=this.A}this.apply(d,a,b,c);t&&(d=this.A.cloneNode(!0));e&&(d._k=f,this.l[f]=d);return d};p.apply=function(a,b,c,e){this.A||(this.A=a=H(this,z[this.u]));if(!this.o)return this.v(a._p||I(this,a),a.$,b,e,c),this};
p.render=function(a,b){var c=this.length;if(!a&&this.o)return this.b[0]||this.add(),this;var e=a.length;if("undefined"===typeof e)a=[a],e=1;else if(!e)return this.remove(0,c);var f=(this.w||!this.B)&&this.key;f||this.B||(this.remove(0,c,e),c=0);var d=c<e?c:e,g=0;if(g<d)for(;g<d;g++){var k=this.b[g],h=a[g];if(f&&k._k!==h[f])return this.reconcile(a,b,g,1);this.update(k,h,b,g)}if(g<e)for(;g<e;g++)this.add(a[g],b);else e<c&&this.remove(e,c-e);return this};
p.reconcile=function(a,b,c,e){var f=this.b,d=this.l,g=a.length,k=f.length,h=k>g?k:g,t=0,x=this.key;for(c||(c=0);c<h;c++){var m=void 0;if(c<g){var q=a[c],l=q[x];if(e&&(!d[l]||c>=k)){k++;h=k>g?k:g;var n=1;this.add(q,b,c,null,1);continue}var r=f[c],y=r._k;if(y===l){n&&(r._i=c);e&&this.update(r,q,b,c);continue}for(var u=void 0,A=void 0,v=c+1;v<h;v++)if(!u&&v<k&&f[v]._k===l&&(u=v+1),!A&&v<g&&a[v][x]===y&&(A=v+1),u&&A){u>=A?(m=f[u-1],this.f.insertBefore(m,r),m._i=c,e&&this.update(m,q,b,c),u===A&&1<v-c?
(this.f.insertBefore(r,f[u]||null),r._i=v,f[c]=f[v],f[v]=r,e&&this.update(r,a[v],b,v)):(J(f,u-1,c),t++,n=1)):(n=A-1+t,this.f.insertBefore(r,f[n]),J(f,c,(n>k?k:n)-1),n=1,t--,c--);m=1;break}}m||(this.remove(c,1,0,1),n=1,k--,h=k>g?k:g,c--)}return this};function J(a,b,c,e,f){if(f&&!b)return[a.shift()];var d=e||a[b];e&&b++;if(b<c)for(;b<c;b++)a[b]=a[b+1];else for(;b>c;b--)a[b]=a[b-1];if(f)return a.pop(),[d];a[c]=d}
p.add=function(a,b,c,e,f){if(!e)if("number"===typeof b){c=b;b=null;var d=1}else if(c||0===c)d=1;c=e||d?c:this.length;a=this.create(a,b,c);a._i=c;if(d){if(this.f.insertBefore(a,this.b[c]||null),J(this.b,this.length-1,c,a),this.length++,!f)for(;++c<this.length;)this.b[c]._i=c}else e?this.f.replaceChild(a,e):(this.f.appendChild(a),this.length++),this.b[c]=a;return this};p.clear=function(){this.remove(0,this.length);return this};
p.destroy=function(a){a&&this.unload();this.A=this.v=this.g=this.u=this.f=this.b=null;this.length=0;this.l={}};p.append=function(a,b,c){if("number"===typeof b){c=b;b=null;var e=1}else e=c||0===c;for(var f=a.length,d=0;d<f;d++)this.add(a[d],b,e?c++:null);return this};
p.remove=function(a,b,c,e){var f=this.length;a&&("object"===typeof a?a=a._i:0>a&&(a=f+a-1));if(!f||a>=f)return this;0>b?(a-=b+1,0>a&&(a=0),b*=-1):b||(b=1);if(!a&&b>=f){var d=this.b;b=d.length;this.f.textContent="";this.f._d=this.b=c?Array(c):[];f=0}else d=1===b?J(this.b,a,f-1,null,1):this.b.splice(a,b),f-=b;this.length=f;if(!e&&a<f)for(;a<f;a++)this.b[a]._i=a;if(this.m&&!this.w&&this.cache&&1<b){a=d;c=a.length;e=c/2|0;for(var g=0,k;g<e;g++)k=a[g],a[g]=a[c-g-1],a[c-g-1]=k}for(a=0;a<b;a++)c=d[a],f&&
this.f.removeChild(c),K(this,c);return this};function K(a,b){if(a.key){var c=b._k;a.l[c]=null;a.w&&(a.w[c]=b)}a.m&&(c=a.m.length,!a.size||c<a.size)&&(a.w&&(b._n=c),a.m[c]=b)}p.replace=function(a,b,c,e){"undefined"===typeof e&&("number"===typeof a?(e=a,a=this.b[e]):e=a._i);this.add(b,c,e,a);K(this,a);return this};
p.update=function(a,b,c,e){"undefined"===typeof e&&("number"===typeof a?(e=a,a=this.b[a]):e=a._i);if(this.key){var f=a._k,d=b[this.key];f!==d&&(this.l[f]=null,this.l[d]=a,a._k=d)}return this.apply(a,b,c,e)};
function I(a,b){for(var c=a.g.length,e={},f=Array(c),d=0,g;d<c;d++){g=a.g[d];var k=d,h;if(!(h=e[g])){h=b;for(var t=0,x=g.length,m="";t<x;t++){var q=g[t];m+=q;e[m]?h=e[m]:(">"===q?h=h.firstElementChild:"+"===q?h=h.nextElementSibling:"|"===q&&(h=h.firstChild),e[m]=h)}}f[k]=h}a.cache&&(b.$={});return b._p=f}var L;
function H(a,b,c,e,f){if(!c){var d=B[b.n+(a.cache?"$":"")];if(d)return a.v=d.v,a.o=d.o,a.g=d.g,d.node}d=document.createElement(b.t||"div");c||(c=0,e="&",L="",a.g=[],d._p=f=[],a.cache&&(d.$={}));var g=b.s,k=b.i,h=b.x,t=b.h,x=b.a,m=b.c,q=b.j,l=a.g.length,n=0,r="";q&&(r+=";"+q,-1<r.indexOf("self")&&(n=2));m&&("object"===typeof m?(m=m[0],r+=a.cache?";v="+m+";if(s._c"+l+"!==v){s._c"+l+"=v;self.className=v}":";self.className="+m,n++):d.className=m);if(x){var y;x&&(y=Object.keys(x));for(m=0;m<y.length;m++){q=
y[m];var u=void 0;!x||(u=x[q]);"object"===typeof u?(u=u[0],r+=a.cache?";v="+u+";if(s['_a_"+q+l+"']!==v){s['_a_"+q+l+"']=v;self.setAttribute('"+q+"',v)}":";self.setAttribute('"+q+"',"+u+")",n++):d.setAttribute(q,u)}}g&&("string"===typeof g?d.style.cssText=g:g.length&&(g=g[0],r+=a.cache?";v="+g+";if(s._cs"+l+"!==v){s._cs"+l+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+g,n++));k||(h?((y="object"===typeof h)&&(h=h[0]),g=document.createTextNode(h),y&&(n&&l++,a.g[l]=e+"|",f[l]=
g,M(n,a.cache?";v="+h+";if(s._x"+l+"!==v){s._x"+l+"=v;self.nodeValue=v}":";self.nodeValue="+h,l),n&&l--),d.appendChild(g)):t&&("object"===typeof t?(t=t[0],r+=a.cache?";v="+t+";if(s._h"+l+"!==v){s._h"+l+"=v;self.innerHTML=v}":";self.innerHTML="+t,n++):d.innerHTML=t));n?(a.g[l]=e,f[l]=d,a.o=0,M(n,r,l)):r&&(L+=r);if(k)if(k.length)for(h=">",l=0;l<k.length;l++)l&&(h+="+"),n=k[l],d.appendChild(H(a,n,c+l+1,e+h,f));else d.appendChild(H(a,k,c+1,e+">",f));c||(!a.o&&L&&(a.v=Function("p","s","data","index","view",
'"use strict";var self,v'+L)),B[b.n+(a.cache?"$":"")]={v:a.v,o:a.o,g:a.g,node:d});return d}function M(a,b,c){L=1<a?L+(";self=p["+c+"]"+b):L+b.replace(/self/g,"p["+c+"]")}E.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.u;a&&(z[a]=null,C[a]=D[a]=B[a]=null,B[a+"$"]=null);return this};E.unregister=E.unload=E.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return E}):(b=a.modules)?b.mikado=E:"object"===typeof a.exports?a.module.exports=E:a.Mikado=E})();}).call(this);
