/**
 * Mikado.js v0.1.2 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var e;e=n.prototype;e._t=function(a,b){a._x!==b&&(a.nodeValue=b,a._x=b);return this};e._h=function(a,b){a._h!==b&&(a.innerHTML=b,a._h=b);return this};e._l=function(a,b){a._c!==b&&(a.className=b,a._c=b,a._cs=null);return this};e._s=function(a,b,d){var c=a._sc||(a._sc={});c[b]!==d&&(c[b]=d,(a._s||(a._s=a.style)).setProperty(b,d),a._cs=null);return this};e._c=function(a,b){a._cs!==b&&((a._s||(a._s=a.style)).cssText=b,a._cs=b,a._sc=null);return this};
e._a=function(a,b,d){var c="_a_"+b;a[c]!==d&&(a.setAttribute(b,d),a[c]=d);return this};var u={store:!1,loose:!0,cache:!0,async:!1,reuse:!0},z={},A={};function n(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.b=this.f=null,this.length=0);this.init(b,d)}var B=n.register=function(a,b){b||(b=a,a=b.n);A[a]=b;return n};n.new=function(a,b,d){return new n(a,b,d)};e=n.prototype;e.mount=function(a){this.b!==a&&(this.b=a,C(this),this.f=a._d||(a._d=D(a.children)),this.length=this.f.length);return this};
e.sync=function(){this.b._d=this.f=D(this.b.children);this.length=this.f.length;return this};e.index=function(a){return a._i};e.node=function(a){return this.f[a]};e.item=function(a){return this.A?this.f[a]._m:this.store[a]};e.init=function(a,b){this.w=b=b?Object.assign({},this.w||u,b):u;"string"===typeof a?a=A[a]:B(a);this.cache=b.cache;this.v=b.reuse;this.state=b.state||z;this.m!==a&&(this.m=a.n,this.o=this.g=null,this.l=!0,this.u=E(this,a),C(this));b.once&&this.render().destroy(!0);return this};
function C(a){if(a.b){var b=a.b._t;b!==a.m&&(a.b._t=a.m,b&&a.clear())}}function D(a){for(var b=a.length,d=Array(b),c=0,k;c<b;c++)k=a[c],k._i=c,d[c]=k;return d}e.create=function(a,b,d){var c=this.u;this.l||this.o(c._p,a,d,b);return c.cloneNode(!0)};
e.render=function(a,b){"function"===typeof b&&(b=null);if(this.l)this.f[0]||this.add();else if(a||this.A){var d=a?a.length:this.length;this.v||this.clear(d);for(var c=0;c<d;c++)c<this.length?this.update(this.f[c],a[c],b,c):this.add(a[c],b,this.b);if(d<this.length)for(a=this.f.splice(d),this.length=d,d=a.length,b=0;b<d;b++)this.b.removeChild(a[b])}return this};e.add=function(a,b,d){var c=this.length;a=this.create(a,b,c);a._i=c;(d||this.b).appendChild(a);this.f[c]=a;this.length++;return this};
e.clear=function(a){this.b._d=this.f=a?Array(a):[];this.b.textContent="";this.length=0;this.cache&&(this.b._h=null);return this};e.destroy=function(a){a&&this.unload();this.u=this.o=this.g=this.b=this.f=null};e.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};e.remove=function(a){var b=a._i;this.f.splice(b,1);this.b.removeChild(a);this.length--;for(a=b;a<this.length;a++)this.f[a]._i=a;return this};
e.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);b._i=c;this.b.replaceChild(b,a);this.f[c]=b;return this};e.update=function(a,b,d,c){this.o(a._p||F(this,a),b,c,d);return this};function F(a,b){for(var d=a.g.length,c={},k=Array(d),g=0;g<d;g++){var m=a.g[g],v=g,f;if(!(f=c[m])){f=b;for(var l="",q=0;q<m.length;q++){var h=m[q];l+=h;c[l]?f=c[l]:(">"===h?f=f.firstElementChild:"+"===h?f=f.nextElementSibling:"|"===h&&(f=f.firstChild),c[l]=f)}}k[v]=f}return b._p=k}var G;
function E(a,b,d,c,k){var g=document.createElement(b.t||"div");d||(d=0,c="&",G="",a.g=[],g._p=k=[]);var m=b.s,v=b.i,f=b.x,l=b.h,q=b.a,h=b.c,p=b.j;b=a.g.length;var r=0,t="";p&&(t+=p+";");h&&("object"===typeof h?(t+=a.cache?"._l(self,"+h[0]+")":"self.className="+h[0]+";",a.g[b]=c,k[b]=g,a.l=!1,r++):g.className=h);if(q){h=Object.keys(q);for(p=0;p<h.length;p++){var x=h[p],y=q[x];if("object"===typeof y){t+=a.cache?"._a(self,'"+x+"',"+y[0]+")":"self.setAttribute('"+x+"',"+y[0]+");";var w=!0;r++}else g.setAttribute(x,
y)}w&&(a.g[b]=c,k[b]=g,a.l=!1)}if(m)if("string"===typeof m)g.style.cssText=m;else if(m.length)t+=a.cache?"._c(self,"+m[0]+")":"self.style.cssText="+m[0]+";",a.g[b]=c,k[b]=g,a.l=!1,r++;else{q=Object.keys(m);for(w=0;w<q.length;w++)if(h=q[w],p=m[h],"object"===typeof p){t+=a.cache?"._s(self,'"+h+"',"+p[0]+")":"self.style.setProperty('"+h+"',"+p[0]+");";var I=!0;r++}else g.style.setProperty(h,p);I&&(a.g[b]=c,k[b]=g,a.l=!1)}v||(f?(c+="|",(m="object"===typeof f)&&(f=f[0]),l=document.createTextNode(f),m&&
(k[b]&&(H(r,t,b,a.cache),t="",b++),t+=a.cache?"._t(self,"+f+")":"self.nodeValue="+f+";",a.g[b]=c,k[b]=l,a.l=!1,r++),g.appendChild(l)):l&&("object"===typeof l?(l=l[0],t+=a.cache?"._h(self,"+l+")":"self.innerHTML="+l+";",a.g[b]=c,k[b]=g,a.l=!1,r++):g.innerHTML=l));H(r,t,b,a.cache);if(v)if(v.length)for(f=">",b=0;b<v.length;b++)b&&(f+="+"),r=v[b],g.appendChild(E(a,r,d+b+1,c+f,k));else g.appendChild(E(a,v,d+1,c+">",k));d||a.l||(a.o=Function("p","item","index","view",G?'"use strict";var self'+G:""));return g}
function H(a,b,d,c){a&&(1<a?(G+=";self=p["+d+"];",c?G+="this"+b:G+=b):G=c?G+b.replace(/self/g,"p["+d+"]"):G+(";p["+d+"]"+b.substring(4)))}n.prototype.unload=function(a){a||(a=this.m);a&&(A[a]=null)};n.unload=n.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return n}):(b=a.modules)?b.mikado=n:"object"===typeof a.exports?a.module.exports=n:a.Mikado=n})();}).call(this);
