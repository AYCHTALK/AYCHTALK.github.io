/**
 * Mikado.js v0.1.3 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var k;var p={store:!1,loose:!0,cache:!0,async:!1,reuse:!0},v={},z={};function A(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.b=this.f=null,this.length=0);this.init(b,d)}var B=A.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return A};A.new=function(a,b,d){return new A(a,b,d)};k=A.prototype;k.mount=function(a){this.b!==a&&(this.b=a,C(this),this.f=a._d||(a._d=D(a.children)),this.length=this.f.length);return this};
k.sync=function(){this.b._d=this.f=D(this.b.children);this.length=this.f.length;return this};k.index=function(a){return a._i};k.node=function(a){return this.f[a]};k.item=function(a){return this.A?this.f[a]._m:this.store[a]};k.init=function(a,b){this.w=b=b?Object.assign({},this.w||p,b):p;"string"===typeof a?a=z[a]:B(a);this.cache=b.cache;this.v=b.reuse;this.state=b.state||v;this.m!==a&&(this.m=a.n,this.o=this.g=null,this.l=!0,this.u=E(this,a),C(this));b.once&&this.render().destroy(!0);return this};
function C(a){if(a.b){var b=a.b._t;b!==a.m&&(a.b._t=a.m,b&&a.clear())}}function D(a){for(var b=a.length,d=Array(b),c=0,h;c<b;c++)h=a[c],h._i=c,d[c]=h;return d}k.create=function(a,b,d){var c=this.u;this.l||this.o(c._p,c._cache,a,d,b);return c.cloneNode(!0)};
k.render=function(a,b){"function"===typeof b&&(b=null);if(this.l)this.f[0]||this.add();else if(a||this.A){var d=a?a.length:this.length;if(!d)return this.clear();this.v||this.clear(d);for(var c=0;c<d;c++)c<this.length?this.update(this.f[c],a[c],b,c):this.add(a[c],b,this.b);if(d<this.length)for(a=this.f.splice(d),this.length=d,d=a.length,b=0;b<d;b++)this.b.removeChild(a[b])}return this};
k.add=function(a,b,d){var c=this.length;a=this.create(a,b,c);a._i=c;(d||this.b).appendChild(a);this.f[c]=a;this.length++;return this};k.clear=function(a){this.b._d=this.f=a?Array(a):[];this.b.textContent="";this.length=0;return this};k.destroy=function(a){a&&this.unload();this.u=this.o=this.g=this.b=this.f=null};k.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};
k.remove=function(a){var b=a._i;this.f.splice(b,1);this.b.removeChild(a);this.length--;for(a=b;a<this.length;a++)this.f[a]._i=a;return this};k.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);b._i=c;this.b.replaceChild(b,a);this.f[c]=b;return this};k.update=function(a,b,d,c){this.o(a._p||F(this,a),a._cache,b,c,d);return this};
function F(a,b){for(var d=a.g.length,c={},h=Array(d),f=0;f<d;f++){var m=a.g[f],u=f,e;if(!(e=c[m])){e=b;for(var l="",r=0;r<m.length;r++){var g=m[r];l+=g;c[l]?e=c[l]:(">"===g?e=e.firstElementChild:"+"===g?e=e.nextElementSibling:"|"===g&&(e=e.firstChild),c[l]=e)}}h[u]=e}b._p=h;b._cache={};return h}var G;
function E(a,b,d,c,h){var f=document.createElement(b.t||"div");d||(d=0,c="&",G="",a.g=[],f._p=h=[],f._cache={});var m=b.s,u=b.i,e=b.x,l=b.h,r=b.a,g=b.c,q=b.j;b=a.g.length;var n=0,t="";q&&(t+=q+";",n=2);g&&("object"===typeof g?(t+=a.cache?";v="+g[0]+";if(s._c"+b+"!==v){s._c"+b+"=v;self.className=v;}":"self.className="+g[0]+";",a.g[b]=c,h[b]=f,n++):f.className=g);if(r){g=Object.keys(r);for(q=0;q<g.length;q++){var w=g[q],y=r[w];if("object"===typeof y){t+=a.cache?";v="+y[0]+";if(s['_a_"+w+b+"']!==v){s['_a_"+
w+b+"']=v;self.setAttribute('"+w+"',v);}":"self.setAttribute('"+w+"',"+y[0]+");";var x=!0;n++}else f.setAttribute(w,y)}x&&(a.g[b]=c,h[b]=f)}if(m)if("string"===typeof m)f.style.cssText=m;else if(m.length)t+=a.cache?";v="+m[0]+";if(s._cs"+b+"!==v){s._cs"+b+"=v;(self._s||(self._s=self.style)).cssText=v;}":"self.style.cssText="+m[0]+";",a.g[b]=c,h[b]=f,n++;else{r=Object.keys(m);for(x=0;x<r.length;x++)if(g=r[x],q=m[g],"object"===typeof q){t+=a.cache?";v="+q[0]+";if(s['_s_"+g+b+"']!==v){s['_s_"+g+b+"']=v;(self._s||(self._s=self.style)).setProperty('"+
g+"',v);}":"self.style.setProperty('"+g+"',"+q[0]+");";var I=!0;n++}else f.style.setProperty(g,q);I&&(a.g[b]=c,h[b]=f)}u||(e?(c+="|",(m="object"===typeof e)&&(e=e[0]),l=document.createTextNode(e),m&&(n&&(H(n,t,b,a.cache),t="",b++),t+=a.cache?";v="+e+";if(s._x"+b+"!==v){s._x"+b+"=v;self.nodeValue=v;};":"self.nodeValue="+e+";",a.g[b]=c,h[b]=l,n++),f.appendChild(l)):l&&("object"===typeof l?(l=l[0],t+=a.cache?";v="+l+";if(s._h"+b+"!==v){s._h"+b+"=v;self.innerHTML=v;};":"self.innerHTML="+l+";",a.g[b]=
c,h[b]=f,n++):f.innerHTML=l));n&&(a.l=!1,H(n,t,b,a.cache));if(u)if(u.length)for(e=">",b=0;b<u.length;b++)b&&(e+="+"),n=u[b],f.appendChild(E(a,n,d+b+1,c+e,h));else f.appendChild(E(a,u,d+1,c+">",h));d||a.l||(a.o=Function("p","s","item","index","view",G?'"use strict";var self,v;'+G+";":""));return f}function H(a,b,d,c){G=c||1<a?G+(";self=p["+d+"];"+b):G+b.replace(/self/g,"p["+d+"]")}A.prototype.unload=function(a){a||(a=this.m);a&&(z[a]=null)};A.unload=A.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return A}):(b=a.modules)?b.mikado=A:"object"===typeof a.exports?a.module.exports=A:a.Mikado=A})();}).call(this);
