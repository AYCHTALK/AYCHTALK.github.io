/**!
 * Mikado.js v0.6.13 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var n;var t={reuse:!0,prefetch:!0,pool:!0,cache:!0},w={},y={},z={},B={},C={};function D(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.g=this.f=null,this.length=0);this.init(b,d)}var F=D.register=function(a,b){b||(b=a,a=b.n);y[a]=b;return D},G=D.new=function(a,b,d){return new D(a,b,d)};
D.prototype.mount=function(a){if(this.g!==a){this.key&&this.g&&(this.g._o=this.m,this.m=a._o||{});this.g=a;H(this);var b;if(!(b=a._d)){b=a.children;for(var d=b.length,c=Array(d),f=0,e;f<d;f++)e=b[f],e._i=f,c[f]=e;b=a._d=c}this.f=b;this.length=this.f.length}return this};D.prototype.index=function(a){return a._i};D.prototype.node=function(a){return this.f[a]};
D.prototype.init=function(a,b){this.B=b=b?Object.assign({},this.B||t,b):t;a?"string"===typeof a?a=y[a]:F(a):a=this.b;this.A=b.reuse;this.state=b.state||w;this.cache=b.cache;this.v=this.A&&b.pool;this.b!==a.n&&(this.b=a.n,this.o=a.d,this.u=this.l=null,this.w=b.prefetch&&I(this,a),H(this),this.m=(this.key=a.k)&&{},this.key&&(C[this.b]||(C[this.b]={})),this.v&&(B[this.b]||(B[this.b]=[])));return this};D.once=function(a,b,d,c,f){G(a,b).render(d,c,f).destroy(!0);return D};
function H(a){if(a.g){var b=a.g._t;b!==a.b&&(a.g._t=a.b,b&&(a.key&&(a.m={}),a.length=0,a.remove(0,a.length)))}}n=D.prototype;
n.create=function(a,b,d){var c,f,e;if(this.key&&((c=(e=C[this.b])[f=a[this.key]])||(c=this.m[f]))){if(e&&(e[f]=null,this.v)){var g;if((g=c._n)||0===g)if(e=B[this.b],e.length){c._n=null;var k=e.pop();k!==c&&(k._n=g,e[g]=k)}}}else if(this.v&&(c=B[this.b])&&c.length){if(c=c.pop(),this.key&&(c._n=null,(k=c._k)||0===k))e[k]=null}else var h=c=this.w||(this.w=I(this,y[this.b]));this.apply(c,a,b,d);h&&(c=this.w.cloneNode(!0));this.key&&(c._k=f,this.m[f]=c);return c};
n.apply=function(a,b,d,c){if(!this.o)return c||0===c||(c=a._i),this.u(a._p||J(this,a),a.$,b,c,d)};
n.render=function(a,b){if(this.o)this.f[0]||this.add();else{if(!a)return!1;var d=this.length;var c=a.length;"undefined"===typeof c&&(a=[a],c=1);if(!c)return this.remove(0,d);if(!this.A){var f=this.key;f||(this.remove(0,d,c),d=0)}var e=d<c?d:c,g=0;if(g<e)for(;g<e;g++){var k=this.f[g],h=a[g],m=void 0;if(f&&k._k!==(m=h[this.key]))if(m=this.m[m]){var q=m._i;m._i=g;k._i=q;this.f[g]=m;this.f[q]=k;this.g.insertBefore(m,k);this.apply(m,h,b,g)}else this.replace(k,h,b,g);else this.update(k,h,b,g)}if(g<c)for(;g<
c;g++)this.add(a[g],b);else c<d&&this.remove(c,d-c)}return this};n.add=function(a,b,d,c){if(!c)if("number"===typeof b){d=b;b=null;var f=!0}else if(d||0===d)f=!0;d=c||f?d:this.length;a=this.create(a,b,d);a._i=d;if(f)for(this.g.insertBefore(a,this.f[d]||null),this.f.splice(d,0,a),this.length++;++d<this.length;)this.f[d]._i=d;else c?this.g.replaceChild(a,c):(this.g.appendChild(a),this.length++),this.f[d]=a;return this};n.clear=function(){return this.remove(0,this.length)};
n.destroy=function(a){a&&this.unload();this.w=this.u=this.l=this.b=this.g=this.f=null;this.length=0;this.m={}};n.append=function(a,b,d){if("number"===typeof b){d=b;b=null;var c=!0}else c=d||0===d;for(var f=a.length,e=0;e<f;e++)this.add(a[e],b,c?d++:null);return this};
n.remove=function(a,b,d){var c=this.length;"object"===typeof a?a=a._i:0>a&&(a=c+a-1);if(!c||a>=c)return this;0>b?(1>b&&(a-=b+1,0>a&&(a=0)),b*=-1):b||(b=1);if(b>=c){var f=this.f;b=f.length;this.g.textContent="";this.g._d=this.f=d?Array(d):[];c=0}else f=this.f.splice(a,b),c-=b;this.length=c;if(this.v){d=B[this.b];var e=d.length;if(this.cache&&1<b&&!this.key){var g=f;for(var k=g.length,h=k/2|0,m=0,q;m<h;m++)q=g[m],g[m]=g[k-m-1],g[k-m-1]=q}g=e+1;B[this.b]=e?d.concat(f):f}d=this.key&&C[this.b];for(e=0;e<
b;e++)k=f[e],c&&this.g.removeChild(k),d&&(h=k._k,this.m[h]=null,d[h]=k,g&&(k._n=g+e-1));if(a<c)for(;a<c;a++)this.f[a]._i=a;return this};n.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);this.add(b,d,c,a);this.key&&(b=a._k,this.m[b]=null,C[this.b][b]=a);this.v&&(b=B[this.b],this.key&&(a._n=b.length),b[b.length]=a);return this};
n.update=function(a,b,d,c){"undefined"===typeof c&&("number"===typeof a?(c=a,a=this.f[a]):c=a._i);if(this.key){var f=a._k,e=b[this.key];f!==e&&(this.m[f]=null,this.m[e]=a,a._k=e)}return this.apply(a,b,d,c)};function J(a,b){for(var d=a.l.length,c={},f=Array(d),e=0;e<d;e++){var g=a.l[e],k=e,h;if(!(h=c[g])){h=b;for(var m="",q=0;q<g.length;q++){var p=g[q];m+=p;c[m]?h=c[m]:(">"===p?h=h.firstElementChild:"+"===p?h=h.nextElementSibling:"|"===p&&(h=h.firstChild),c[m]=h)}}f[k]=h}b._p=f;b.$={};return f}var K;
function I(a,b,d,c,f){var e=z[b.n+(a.cache?"$":"")];if(e)return a.u=e.u,a.o=e.o,a.l=e.l,e.node;e=document.createElement(b.t||"div");d||(d=0,c="&",K="",a.l=[],e._p=f=[],e.$={});var g=b.s,k=b.i,h=b.x,m=b.h,q=b.a,p=b.c,v=b.j,l=a.l.length,r=0,u="";v&&(u+=";"+v,-1<u.indexOf("self")&&(a.l[l]=c,f[l]=e,r=2));p&&("object"===typeof p?(p=p[0],u+=a.cache?";v="+p+";if(s._c"+l+"!==v){s._c"+l+"=v;self.className=v}":";self.className="+p,a.l[l]=c,f[l]=e,r++):e.className=p);if(q){var A;q&&(A=Object.keys(q));for(p=
0;p<A.length;p++){v=A[p];var x=void 0;!q||(x=q[v]);if("object"===typeof x){x=x[0];u+=a.cache?";v="+x+";if(s['_a_"+v+l+"']!==v){s['_a_"+v+l+"']=v;self.setAttribute('"+v+"',v)}":";self.setAttribute('"+v+"',"+x+")";var E=!0;r++}else e.setAttribute(v,x)}E&&(a.l[l]=c,f[l]=e)}g&&("string"===typeof g?e.style.cssText=g:g.length&&(g=g[0],u+=a.cache?";v="+g+";if(s._cs"+l+"!==v){s._cs"+l+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+g,a.l[l]=c,f[l]=e,r++));k||(h?(c+="|",(A="object"===
typeof h)&&(h=h[0]),E=document.createTextNode(h),A&&(r&&(L(r,u,l,a.cache),u="",l++),u+=a.cache?";v="+h+";if(s._x"+l+"!==v){s._x"+l+"=v;self.nodeValue=v}":";self.nodeValue="+h,a.l[l]=c,f[l]=E,r++),e.appendChild(E)):m&&("object"===typeof m?(m=m[0],u+=a.cache?";v="+m+";if(s._h"+l+"!==v){s._h"+l+"=v;self.innerHTML=v}":";self.innerHTML="+m,a.l[l]=c,f[l]=e,r++):e.innerHTML=m));r&&(a.o=!1,L(r,u,l,a.cache));if(k)if(k.length)for(h=">",l=0;l<k.length;l++)l&&(h+="+"),r=k[l],e.appendChild(I(a,r,d+l+1,c+h,f));
else e.appendChild(I(a,k,d+1,c+">",f));d||(!a.o&&K&&(a.u=Function("p","s","data","index","view",'"use strict";var self,v'+K)),z[b.n+(a.cache?"$":"")]={u:a.u,o:a.o,l:a.l,node:e});return e}function L(a,b,d,c){K=c||1<a?K+(";self=p["+d+"]"+b):K+b.replace(/self/g,"p["+d+"]")}D.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.b;a&&(y[a]=z[a]=null,B[a]=[],C[a]={},z[a+"$"]=null)};D.unregister=D.unload=D.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return D}):(b=a.modules)?b.mikado=D:"object"===typeof a.exports?a.module.exports=D:a.Mikado=D})();}).call(this);
