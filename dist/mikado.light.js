/**
 * Mikado.js v0.0.8 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var h;n.prototype.setText=function(a,b){a._text!==b&&(a.nodeValue=b,a._text=b);return this};n.prototype.setHTML=function(a,b){a._html!==b&&(a.innerHTML=b,a._html=b);return this};n.prototype.setClass=function(a,b){a._class!==b&&(a.className=b,a._class=b,a._class_cache=null);return this};n.prototype.setStyle=function(a,b,d){var c=a._style_cache||(a._style_cache={});c[b]!==d&&(c[b]=d,(a._style||(a._style=a.style)).setProperty(b,d),a._css=null);return this};
n.prototype.setCSS=function(a,b){a._css!==b&&((a._style||(a._style=a.style)).cssText=b,a._css=b,a._style_cache=null);return this};n.prototype.setAttribute=function(a,b,d){var c="_attr_"+b;a[c]!==d&&(a.setAttribute(b,d),a[c]=d);return this};var t={store:!1,loose:!0,cache:!0,async:!1,reuse:!0},y={},z={};function n(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a&&this.mount(a);this.init(b,d)}n.prototype.mount=function(a){this.root!==a&&(this.root=a,A(this),this.b=a._d||(a._d=B(a.childNodes)),this.length=this.b.length);return this};n.prototype.sync=function(){this.root._d=this.b=B(this.root.childNodes);this.length=this.b.length;return this};n.prototype.node=function(a){return this.b[a]};
n.prototype.item=function(a){return this.o?this.b[a]._m:this.store[a]};var C=0;h=n.prototype;h.init=function(a,b){this.config=b=b?Object.assign({},this.config||t,b):t;if("string"===typeof a)a=z[a];else{var d=a;if(!c){var c=d;d=c.n}z[d]=c}this.cache=b.cache;this.u=b.reuse;this.state=b.state||y;this.m!==a&&(this.m=a,this.id=++C,this.clone=this.l=this.f=null,this.g=!0,A(this));return this};function A(a){if(a.root){var b=a.root._t;b!==a.id&&(a.root._t=a.id,b&&a.clear())}}
function B(a){for(var b=a.length,d=Array(b),c=0,e;c<b;c++)e=a[c],e._i=c,d[c]=e;return d}h.create=function(a,b,d){var c=this.clone;c||(this.clone=c=this.parse(this.m));this.g||this.l(c._p,a,d,b);b=c.cloneNode(!0);this.o&&(b._m=a);return b};
h.render=function(a,b){if(!this.root)return console.error(""),this;"function"!==typeof a&&"function"===typeof b&&(b=null);if(a){var d=a.length,c;this.u||this.clear();this.length||(this.b=Array(d));for(var e=0;e<d;e++)e<this.length?this.update(this.b[e],a[e],b,e):this.add(a[e],b,this.root||(c=document.createDocumentFragment()));c&&this.root.appendChild(c);if(d<this.length)for(a=this.b.splice(d),this.length=d,d=a.length,b=0;b<d;b++)this.root.removeChild(a[b])}else this.b[0]||this.add();return this};
h.add=function(a,b,d){var c=this.length;a=this.create(a,b,c);a._i=c;(d||this.root).appendChild(a);this.b[c]=a;this.length++;return this};h.clear=function(){this.root._d=this.b=[];this.root.textContent="";this.length=0;this.cache&&(this.root._h=null);return this};h.destroy=function(a){a&&this.unload();this.clone=this.l=this.f=this.m=this.root=this.b=null};h.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};
h.remove=function(a){var b=a._i;this.b.splice(b,1);this.root.removeChild(a);this.length--;for(a=b;a<this.length;a++)this.b[a]._i=a;return this};h.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);this.root.replaceChild(b,a);this.b[c]=b;return this};h.update=function(a,b,d,c){this.g||("number"===typeof a?(c=a,a=this.b[a]):"undefined"===typeof c&&(c=a._i),this.l(a._p||D(this,a),b,c,d));return this};
function D(a,b){for(var d=a.f.length,c={},e=Array(d),l=0;l<d;l++){var r=a.f[l],m=l,f;if(!(f=c[r])){f=b;for(var p="",g=0;g<r.length;g++){var k=r[g];p+=k;c[p]?f=c[p]:(">"===k?f=f.firstElementChild:"+"===k?f=f.nextElementSibling:"|"===k&&(f=f.firstChild),c[p]=f)}}e[m]=f}return b._p=e}var E;
n.prototype.parse=function(a,b,d,c){var e=document.createElement(a.t||"div");b||(b=0,d="&",E="",this.f=[],e._p=c=[]);var l=a.s,r=a.i,m=a.x,f=a.h,p=a.a,g=a.c,k=a.j;a=this.f.length;var u=0,q="";k&&(q+=k+";");g&&("object"===typeof g?(q+=this.cache?"._l(self,"+g[0]+")":"self.className="+g[0]+";",this.f[a]=d,c[a]=e,this.g=!1,u++):e.className=g);if(p){g=Object.keys(p);for(k=0;k<g.length;k++){var w=g[k],x=p[w];if("object"===typeof x){q+=this.cache?"._a(self,'"+w+"',"+x[0]+")":"self.setAttribute('"+w+"',"+
x[0]+");";var v=!0;u++}else e.setAttribute(w,x)}v&&(this.f[a]=d,c[a]=e,this.g=!1)}if(l)if("string"===typeof l)e.style.cssText=l;else if(l.length)q+=this.cache?"._c(self,"+l[0]+")":"self.style.cssText="+l[0]+";",this.f[a]=d,c[a]=e,u++;else{p=Object.keys(l);for(v=0;v<p.length;v++)if(g=p[v],k=l[g],"object"===typeof k){q+=this.cache?"._s(self,'"+g+"',"+k[0]+")":"self.style.setProperty('"+g+"',"+k[0]+");";var F=!0;u++}else e.style.setProperty(g,k);F&&(this.f[a]=d,c[a]=e,this.g=!1)}r||(m?(d+="|",(l="object"===
typeof m)&&(m=m[0]),f=document.createTextNode(m),l&&(q+=this.cache?"._t(self,"+m+")":"self.nodeValue="+m+";",c[a]&&a++,this.f[a]=d,c[a]=f,this.g=!1,u++),e.appendChild(f)):f&&("object"===typeof f?(f=f[0],q+=this.cache?"._h(self, "+f+")":"self.innerHTML="+f+";",this.f[a]=d,c[a]=e,this.g=!1,u++):e.innerHTML=f));u&&(1<u?(E+="self=p["+a+"];",E=this.cache?E+("this"+q+";"):E+q):E=this.cache?E+("this"+q.replace(/self/g,"p["+a+"]")+";"):E+("p["+a+"]"+q.substring(4)));if(r)if(r.length)for(m=">",a=0;a<r.length;a++)a&&
(m+="+"),e.appendChild(this.parse(r[a],b+a+1,d+m,c));else e.appendChild(this.parse(r,b+1,d+">",c));b||this.g||(this.l=Function("p","item","index","view",E?'"use strict";var self;'+E:""));return e};(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return n}):(b=a.modules)?b.mikado=n:"object"===typeof a.exports?a.module.exports=n:a.Mikado=n})();}).call(this);
