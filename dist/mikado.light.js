/**
 * Mikado.js v0.3.0 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var k;var l={store:!0,loose:!0,cache:!0,async:!1,reuse:!0},x={},z={};function A(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a);a?this.mount(a):(this.b=this.f=null,this.length=0);this.init(b,d)}var B=A.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return A},C=A.new=function(a,b,d){return new A(a,b,d)};k=A.prototype;k.mount=function(a){this.b!==a&&(this.b=a,D(this),this.f=a._d||(a._d=E(a.children)),this.length=this.f.length);return this};
k.sync=function(){this.b._d=this.f=E(this.b.children);this.length=this.f.length;return this};k.index=function(a){return a._i};k.node=function(a){return this.f[a]};k.init=function(a,b){this.v=b=b?Object.assign({},this.v||l,b):l;"string"===typeof a?a=z[a]:B(a);this.cache=b.cache;this.w=b.reuse;this.state=b.state||x;this.m!==a&&(this.m=a.n,this.o=this.g=null,this.l=!0,this.u=F(this,a),D(this));return this};A.once=function(a,b,d,c,g){C(a,b).render(d,c,g).destroy(!0);return A};
function D(a){if(a.b){var b=a.b._t;b!==a.m&&(a.b._t=a.m,b&&a.clear())}}function E(a){for(var b=a.length,d=Array(b),c=0,g;c<b;c++)g=a[c],g._i=c,d[c]=g;return d}k=A.prototype;k.create=function(a,b,d){var c=this.u;this.l||this.o(c._p,c.$,a,d,b);return c.cloneNode(!0)};
k.render=function(a,b){if(this.l)this.f[0]||this.add();else{if(a)if("undefined"===typeof a.length){a=[a];var d=1}else d=a.length;if(!d)return this.clear();this.w||this.clear(d);for(var c=0;c<d;c++)c<this.length?this.update(this.f[c],a?a[c]:null,b,c):this.add(a?a[c]:this.store[c],b,this.b);if(d<this.length)for(a=this.f.splice(d),this.length=d,d=a.length,b=0;b<d;b++)this.b.removeChild(a[b])}return this};
k.add=function(a,b,d){var c=this.length;a=this.create(a,b,c);a._i=c;(d||this.b).appendChild(a);this.f[c]=a;this.length++;return this};k.clear=function(a){this.b._d=this.f=a?Array(a):[];this.b.textContent="";this.length=0;return this};k.destroy=function(a){a&&this.unload();this.u=this.o=this.g=this.b=this.f=null};k.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};
k.remove=function(a){if("number"===typeof a){var b=a;a=this.f[b]}else b=a._i;this.f.splice(b,1);this.b.removeChild(a);this.length--;for(a=b;a<this.length;a++)this.f[a]._i=a;return this};k.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);b=this.create(b,d,c);b._i=c;this.b.replaceChild(b,a);this.f[c]=b;return this};k.update=function(a,b,d,c){this.o(a._p||G(this,a),a.$,b,c,d);return this};
function G(a,b){for(var d=a.g.length,c={},g=Array(d),e=0;e<d;e++){var n=a.g[e],u=e,f;if(!(f=c[n])){f=b;for(var m="",q=0;q<n.length;q++){var h=n[q];m+=h;c[m]?f=c[m]:(">"===h?f=f.firstElementChild:"+"===h?f=f.nextElementSibling:"|"===h&&(f=f.firstChild),c[m]=f)}}g[u]=f}b._p=g;b.$={};return g}var H;
function F(a,b,d,c,g){var e=document.createElement(b.t||"div");d||(d=0,c="&",H="",a.g=[],e._p=g=[],e.$={});var n=b.s,u=b.i,f=b.x,m=b.h,q=b.a,h=b.c,t=b.j;b=a.g.length;var p=0,r="";t&&(r+=";"+t,-1<r.indexOf("self")&&(a.g[b]=c,g[b]=e,p=2));h&&("object"===typeof h?(r+=a.cache?";v="+h[0]+";if(s._c"+b+"!==v){s._c"+b+"=v;self.className=v}":";self.className="+h[0],a.g[b]=c,g[b]=e,p++):e.className=h);if(q){var w;q&&(w=Object.keys(q));for(h=0;h<w.length;h++){t=w[h];var y=void 0;!q||(y=q[t]);if("object"===typeof y){r+=
a.cache?";v="+y[0]+";if(s['_a_"+t+b+"']!==v){s['_a_"+t+b+"']=v;self.setAttribute('"+t+"',v)}":";self.setAttribute('"+t+"',"+y[0]+")";var v=!0;p++}else e.setAttribute(t,y)}v&&(a.g[b]=c,g[b]=e)}if(n)if("string"===typeof n)e.style.cssText=n;else if(n.length)r+=a.cache?";v="+n[0]+";if(s._cs"+b+"!==v){s._cs"+b+"=v;(self._s||(self._s=self.style)).cssText=v}":";self.style.cssText="+n[0],a.g[b]=c,g[b]=e,p++;else{q=Object.keys(n);for(w=0;w<q.length;w++)if(v=q[w],h=n[v],"object"===typeof h){r+=a.cache?";v="+
h[0]+";if(s['_s_"+v+b+"']!==v){s['_s_"+v+b+"']=v;(self._s||(self._s=self.style)).setProperty('"+v+"',v)}":";self.style.setProperty('"+v+"',"+h[0]+")";var J=!0;p++}else e.style.setProperty(v,h);J&&(a.g[b]=c,g[b]=e)}u||(f?(c+="|",(n="object"===typeof f)&&(f=f[0]),m=document.createTextNode(f),n&&(p&&(I(p,r,b,a.cache),r="",b++),r+=a.cache?";v="+f+";if(s._x"+b+"!==v){s._x"+b+"=v;self.nodeValue=v}":";self.nodeValue="+f,a.g[b]=c,g[b]=m,p++),e.appendChild(m)):m&&("object"===typeof m?(m=m[0],r+=a.cache?";v="+
m+";if(s._h"+b+"!==v){s._h"+b+"=v;self.innerHTML=v}":";self.innerHTML="+m,a.g[b]=c,g[b]=e,p++):e.innerHTML=m));p&&(a.l=!1,I(p,r,b,a.cache));if(u)if(u.length)for(f=">",b=0;b<u.length;b++)b&&(f+="+"),p=u[b],e.appendChild(F(a,p,d+b+1,c+f,g));else e.appendChild(F(a,u,d+1,c+">",g));d||a.l||!H||(a.o=Function("p","s","item","index","view",'"use strict";var self,v'+H));return e}function I(a,b,d,c){H=c||1<a?H+(";self=p["+d+"]"+b):H+b.replace(/self/g,"p["+d+"]")}
A.prototype.unload=function(a){a||(a=this.m);a&&(z[a]=null)};A.unload=A.prototype.unload;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return A}):(b=a.modules)?b.mikado=A:"object"===typeof a.exports?a.module.exports=A:a.Mikado=A})();}).call(this);
