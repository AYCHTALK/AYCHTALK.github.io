/**
 * Mikado.js v0.0.73
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var l;var p=window,u=p.requestAnimationFrame,x=p.cancelAnimationFrame,z={},B={},C={};function D(a,b,d){a.nodeType||(d=b,b=a,a=null);b||(d=a,a=d.root,b=d.template);"string"===typeof b?b=z[b]:D.register(b);this.cache=!d||!1!==d.cache;this.w=d&&!!d.async;this.u=!d||!1!==d.reuse;var c=d&&d.store;(this.l=c&&d&&!!d.loose)?this.store=!1:(this.m="object"===typeof c,this.store=c&&(this.m?c:[]));a&&this.mount(a);E(this,b)}D.register=function(a,b){b||(b=a,a=b.n);z[a]=b};
D.prototype.mount=function(a){if(this.root!==a){this.root=a;F(this);var b;if(!(b=a._d)){b=a.childNodes;for(var d=b.length,c=Array(d),e=0,f;e<d;e++)f=b[e],f._i=e,c[e]=f;b=a._d=c}this.b=b;this.length=this.b.length}return this};
var G={tap:1,change:1,click:1,dblclick:1,input:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,touchstart:1,touchmove:1,touchend:1,touchcancel:1,reset:1,select:1,submit:1,toggle:1,blur:1,error:1,focus:1,load:1,resize:1,scroll:1};function H(a,b,d){window.addEventListener(a,b,d||{passive:!0,capture:!0})}
function I(a,b){b||(b=a.type);var d=a.target,c=d,e=d["_e_"+b];if(e)c=d["_r_"+b];else{for(;c;){if(c===J)return;if(e=c.getAttribute(b)){if(-1!==e.indexOf(":")){var f=e.split(":"),g=f[1];e=0;for(c=c.parentElement;c!==J;){if(c.hasAttribute(g)){e=f[0];break}c=c.parentElement}}break}c=c.parentElement}if(!e)return;d["_e_"+b]=e;d["_r_"+b]=c}(b=C[e])&&b(c,a);a.stopPropagation()}var J=document.body,K="ontouchstart"in window||navigator.msMaxTouchPoints,L,M,N;
if(K){var O=function(a,b){b&&(b=b[0]);L=b?b.clientX:a.pageX;M=b?b.clientY:a.pageY},P=function(a){var b=L,d=M;O(a,a.changedTouches);50>Math.abs(L-b)&&50>Math.abs(M-d)&&I.call(this,a,"click")},Q=function(a){O(a,a.touches)};N=function(){H("touchstart",Q,!1);H("touchend",P,!1)}}var R=0;function E(a,b){a.v!==b&&(a.v=b,a.id=++R,a.f=null,a.o=null,a.clone=null,a.g=!0,F(a))}function F(a){if(a.root){var b=a.root._t;b!==a.id&&(a.root._t=a.id,b&&S(a))}}
D.prototype.create=function(a,b,d){var c=this.clone;c||(this.clone=c=T(this,this.v));this.g||this.o(c._p,a,d,b);b=c.cloneNode(!0);this.l&&(b._m=a);return b};var U;l=D.prototype;
l.render=function(a,b,d,c){if(!this.root)return console.error(""),this;a?"function"===typeof a?(d=a,a=this.store):"function"===typeof b&&(d=b,b=null):a=this.store;if(!c){if(d){var e=this;U=u(function(){U=null;e.render(a,b,null,!0);"function"===typeof d&&d()});return this}if(this.w){var f=this;return new Promise(function(h){U=u(function(){U=null;f.render(a,b,null,!0);h()})})}}if(a){c=a.length;var g;this.u||S(this);this.length||(this.b=Array(c),this.store&&!this.m&&(this.store=Array(c)));for(var k=
0;k<c;k++)k<this.length?this.update(this.b[k],a[k],b,k):this.add(a[k],b,this.root||(g=document.createDocumentFragment()));g&&this.root.appendChild(g);if(c<this.length)for(this.store&&this.store.splice(c),g=this.b.splice(c),this.length=c,c=g.length,k=0;k<c;k++)this.root.removeChild(g[k])}else this.b[0]||this.add();return this};l.add=function(a,b,d){var c=this.length;b=this.create(a,b,c);this.store?this.store[c]=a:this.l&&(b._m=a);b._i=c;(d||this.root).appendChild(b);this.b[c]=b;this.length++;return this};
function S(a){a.root.textContent="";a.root._d=a.b=[];a.length=0;a.store&&(a.m?a.store.splice(0):a.store=[]);a.cache&&(a.root._h=null)}l.cancel=function(){U&&(x(U),U=null)};l.append=function(a,b){for(var d=a.length,c=0;c<d;c++)this.add(a[c],b);return this};l.remove=function(a){var b=a._i;this.b.splice(b,1);this.root.removeChild(a);this.length--;this.store&&this.store.splice(b,1);for(a=b;a<this.length;a++)this.b[a]._i=a;return this};
l.up=function(a){if(a=a._i){var b=this.b[a],d=this.b[a-1];this.root.insertBefore(b,d);b._i=a-1;d._i=a;this.b[a]=d;this.b[a-1]=b;this.store&&(b=this.store[a-1],this.store[a-1]=this.store[a],this.store[a]=b)}};l.down=function(a){a=a._i;if(a<this.length-1){var b=this.b[a],d=this.b[a+1];a===this.length-2?this.root.appendChild(b):this.root.insertBefore(b,d);b._i=a+1;d._i=a;this.b[a]=d;this.b[a+1]=b;this.store&&(b=this.store[a+1],this.store[a+1]=this.store[a],this.store[a]=b)}};
l.first=function(a){var b=a._i;if(b){this.root.insertBefore(a,this.b[0]);a=this.b.splice(b,1)[0];this.b.unshift(a);for(a=0;a<=b;a++)this.b[a]._i=a;this.store&&(b=this.store.splice(b,1)[0],this.store.unshift(b))}};l.last=function(a){var b=a._i;if(b<this.length-1){this.root.appendChild(a);a=this.b.splice(b,1)[0];this.b.push(a);for(a=b;a<this.length;a++)this.b[a]._i=a;this.store&&(b=this.store.splice(b,1)[0],this.store.push(b))}};
l.swap=function(a,b){if(a!==b){if("number"===typeof a){var d=a;a=this.b[a]}else d=a._i;if("number"===typeof b){var c=b;b=this.b[b]}else c=b._i;if(this.u){var e=a._m;this.update(a,b._m,null,c);this.update(b,e,null,d)}else this.root.insertBefore(a,b),this.root.insertBefore(b,d+1===c?a:this.b[d+1]),a._i=c,b._i=d,this.b[d]=b,this.b[c]=a;this.store&&(a=this.store[c],this.store[c]=this.store[d],this.store[d]=a)}return this};
l.replace=function(a,b,d,c){"undefined"===typeof c&&(c=a._i);d=this.create(b,d,c);this.store?this.store[c]=b:this.l&&(d._m=b);a.replaceWith(d);this.b[c]=d;return this};l.update=function(a,b,d,c){this.g||("number"===typeof a?(c=a,a=this.b[a]):"undefined"===typeof c&&(c=a._i),this.store?b?this.store[c]=b:b=this.store[c]:this.l&&(b?a._m=b:b=a._m),this.o(a._p||V(this,a),b,c,d));return this};
function V(a,b){for(var d=a.f.length,c={},e=Array(d),f=0;f<d;f++){var g=a.f[f],k=f,h;if(!(h=c[g])){h=b;for(var n="",t=0;t<g.length;t++){var m=g[t];n+=m;c[n]?h=c[n]:(">"===m?h=h.firstElementChild:"+"===m?h=h.nextElementSibling:"|"===m&&(h=h.firstChild),c[n]=h)}}e[k]=h}return b._p=e}var W;
function T(a,b,d,c,e){var f=document.createElement(b.t||"div");d||(d=0,c="&",W="",a.f=[],f._p=e=[]);var g=b.s,k=b.i,h=b.x,n=b.h,t=b.a,m=b.c,q=b.j;b=a.f.length;var w=0,r="";q&&(r+=q+";");m&&("object"===typeof m?(r+=a.cache?"._l(self,"+m[0]+")":"self.className="+m[0]+";",a.f[b]=c,e[b]=f,a.g=!1,w++):f.className=m);if(t){m=Object.keys(t);for(q=0;q<m.length;q++){var v=m[q],A=t[v];if("object"===typeof A){r+=a.cache?"._a(self,'"+v+"',"+A[0]+")":"self.setAttribute('"+v+"',"+A[0]+");";var y=!0;w++}else f.setAttribute(v,
A);G[v]&&!B[v]&&(K&&"click"===v?N():H(v,I,!0),B[v]=1)}y&&(a.f[b]=c,e[b]=f,a.g=!1)}if(g)if("string"===typeof g)f.style.cssText=g;else if(g.length)r+=a.cache?"._c(self,"+g[0]+")":"self.style.cssText="+g[0]+";",a.f[b]=c,e[b]=f,w++;else{t=Object.keys(g);for(y=0;y<t.length;y++)if(m=t[y],q=g[m],"object"===typeof q){r+=a.cache?"._s(self,'"+m+"',"+q[0]+")":"self.style.setProperty('"+m+"',"+q[0]+");";var X=!0;w++}else f.style.setProperty(m,q);X&&(a.f[b]=c,e[b]=f,a.g=!1)}k||(h?(c+="|",(g="object"===typeof h)&&
(h=h[0]),n=document.createTextNode(h),g&&(r+=a.cache?"._t(self,"+h+")":"self.nodeValue="+h+";",e[b]&&b++,a.f[b]=c,e[b]=n,a.g=!1,w++),f.appendChild(n)):n&&("object"===typeof n?(n=n[0],r+=a.cache?"._h(self, "+n+")":"self.innerHTML="+n+";",a.f[b]=c,e[b]=f,a.g=!1,w++):f.innerHTML=n));w&&(1<w?(W+="self=p["+b+"];",W=a.cache?W+("this"+r+";"):W+r):W=a.cache?W+("this"+r.replace(/self/g,"p["+b+"]")+";"):W+("p["+b+"]"+r.substring(4)));if(k)if(k.length)for(h=">",b=0;b<k.length;b++)b&&(h+="+"),f.appendChild(T(a,
k[b],d+b+1,c+h,e));else f.appendChild(T(a,k,d+1,c+">",e));d||a.g||(a.o=Function("p","item","index","view",W?'"use strict";var self;'+W:""));return f}D.prototype._t=function(a,b){a._x!==b&&(a.nodeValue=b,a._x=b);return this};D.prototype._h=function(a,b){a._h!==b&&(a.innerHTML=b,a._h=b);return this};D.prototype._l=function(a,b){a._c!==b&&(a.className=b,a._c=b,a._cs=null);return this};
D.prototype._s=function(a,b,d){var c=a._sc||(a._sc={});c[b]!==d&&(c[b]=d,(a._s||(a._s=a.style)).setProperty(b,d),a._cs=null);return this};D.prototype._c=function(a,b){a._cs!==b&&((a._s||(a._s=a.style)).cssText=b,a._cs=b,a._sc=null);return this};D.prototype._a=function(a,b,d){var c="_a_"+b;a[c]!==d&&(a.setAttribute(b,d),a[c]=d);return this};
D.prototype.load=function(a,b){if(z[a])this instanceof D&&E(this,z[a]),b&&b();else{var d=this,c=new XMLHttpRequest;c.overrideMimeType("application/json");c.open("GET",a,!1!==b);c.onload=function(){var e=this.responseText;if(e){try{var f=JSON.parse(e);D.register(a,f);d instanceof D&&E(d,f)}catch(k){var g=k}"function"===typeof b&&b(g)}};c.send()}};D.load=D.prototype.load;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return D}):(b=a.modules)?b.mikado=D:"object"===typeof a.exports?a.module.exports=D:a.Mikado=D})();}).call(this);
