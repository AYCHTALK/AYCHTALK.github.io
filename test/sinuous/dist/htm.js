const t=(n,e,r,o)=>{for(let l=1;l<e.length;l++){const s=e[l],u="number"==typeof s?r[s]:s,f=e[++l];1===f?o[0]=u:3===f?o[1]=Object.assign(o[1]||{},u):5===f?(o[1]=o[1]||{})[e[++l]]=u:6===f?o[1][e[++l]]+=u+"":f?o.push(n.apply(null,t(n,u,r,["",null]))):o.push(u)}return o},n=function(t){let n,e,r=1,o="",l="",s=[0];const u=t=>{1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t||o,0):3===r&&(t||o)?(s.push(t||o,1),r=2):2===r&&"..."===o&&t?s.push(t,3):2===r&&o&&!t?s.push(!0,5,o):r>=5&&((o||!t&&5===r)&&(s.push(o,r,e),r=6),t&&(s.push(t,r,e),r=6)),o=""};for(let f=0;f<t.length;f++){f&&(1===r&&u(),u(f));for(let c=0;c<t[f].length;c++)n=t[f][c],1===r?"<"===n?(u(),s=[s],r=3):o+=n:4===r?"--"===o&&">"===n?(r=1,o=""):o=n+o[0]:l?n===l?l="":o+=n:'"'===n||"'"===n?l=n:">"===n?(u(),r=1):r&&("="===n?(r=5,e=o,o=""):"/"===n&&(r<5||">"===t[f][c+1])?(u(),3===r&&(s=s[0]),r=s,(s=s[0]).push(r,2),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(u(),r=2):o+=n),3===r&&"!--"===o&&(r=4,s=s[0])}return u(),s},e="function"==typeof Map,r=e?new Map:{},o=e?t=>{let e=r.get(t);return e||r.set(t,e=n(t)),e}:t=>{let e="";for(let n=0;n<t.length;n++)e+=t[n].length+"-"+t[n];return r[e]||(r[e]=n(t))};export default function(n){const e=t(this,o(n),arguments,[]),r=e.length>1?e:e[0];return Array.isArray(r)?this(r):r instanceof Node?r:this([r])}
